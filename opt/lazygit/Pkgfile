# Description: git frontend
# URL:         https://github.com/jesseduffield/lazygit.git

name=lazygit
version=git
release=1
source=(
    https://github.com/jesseduffield/lazygit.git
    https://patch-diff.githubusercontent.com/raw/jesseduffield/lazygit/pull/3017.diff
)

build()
{
    cd $name
    patch -p1 -i $SRC/3017.diff
    unset CC
    export PATH=$PATH:/usr/local/go/bin
    case $(uname -m) in
        aarch64)
            GOOS=linux GOARCH=arm64 GOARM=7 GOBIN=$PKG/usr/local/bin go install
            ;;
        x86_64)
            CGO_ENABLED=0 GOBIN=$PKG/usr/local/bin go install
            ;;
    esac
}
